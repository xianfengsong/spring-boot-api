package dp;
//ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ pï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ '.' å’Œ '*' çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚
//
//
// '.' åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦
// '*' åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ 
//
//
// æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– æ•´ä¸ª å­—ç¬¦ä¸² sçš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šs = "aa" p = "a"
//è¾“å‡ºï¼šfalse
//è§£é‡Šï¼š"a" æ— æ³•åŒ¹é… "aa" æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
//
//
// ç¤ºä¾‹ 2:
//
//
//è¾“å…¥ï¼šs = "aa" p = "a*"
//è¾“å‡ºï¼štrue
//è§£é‡Šï¼šå› ä¸º '*' ä»£è¡¨å¯ä»¥åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ , åœ¨è¿™é‡Œå‰é¢çš„å…ƒç´ å°±æ˜¯ 'a'ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸² "aa" å¯è¢«è§†ä¸º 'a' é‡å¤äº†ä¸€æ¬¡ã€‚
//
//
// ç¤ºä¾‹ 3ï¼š
//
//
//è¾“å…¥ï¼šs = "ab" p = ".*"
//è¾“å‡ºï¼štrue
//è§£é‡Šï¼š".*" è¡¨ç¤ºå¯åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªï¼ˆ'*'ï¼‰ä»»æ„å­—ç¬¦ï¼ˆ'.'ï¼‰ã€‚
//
//
// ç¤ºä¾‹ 4ï¼š
//
//
//è¾“å…¥ï¼šs = "aab" p = "c*a*b"
//è¾“å‡ºï¼štrue
//è§£é‡Šï¼šå› ä¸º '*' è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªï¼Œè¿™é‡Œ 'c' ä¸º 0 ä¸ª, 'a' è¢«é‡å¤ä¸€æ¬¡ã€‚å› æ­¤å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² "aab"ã€‚
//
//
// ç¤ºä¾‹ 5ï¼š
//
//
//è¾“å…¥ï¼šs = "mississippi" p = "mis*is*p*."
//è¾“å‡ºï¼šfalse
//
//
//
// æç¤ºï¼š
//
//
// 0 <= s.length <= 20
// 0 <= p.length <= 30
// s å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚
// p å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ . å’Œ *ã€‚
// ä¿è¯æ¯æ¬¡å‡ºç°å­—ç¬¦ * æ—¶ï¼Œå‰é¢éƒ½åŒ¹é…åˆ°æœ‰æ•ˆçš„å­—ç¬¦
//
// Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ å›æº¯ç®—æ³•
// ğŸ‘ 1816 ğŸ‘ 0

/**
 * lc no.10
 * æ³¨æ„å®¡é¢˜ så’Œpéœ€è¦å®Œå…¨åŒ¹é…ï¼Œa vs a*c è¦è¿”å›false
 * å…³é”®æ˜¯ å­—ç¬¦+*çš„å¤„ç†ï¼Œå¹²è„†è®°ä½æœ‰ä¸¤ç§å¤„ç†æ–¹å¼
 * 1. a* -> '' ï¼ˆç›´æ¥ä¸¢å¼ƒï¼‰ï¼Œé€‚ç”¨ï¼ša vs a*a = true
 * 2. a* -> a...a (ç”¨a*å»åŒ¹é…)ï¼Œä½¿ç”¨ aaa vs a* = true
 * æ‰€ä»¥è¦æŠŠa*å½“ä½œæ•´ä½“
 */
public class RegexMatch {
    public boolean isMatch(String s, String p) {
        if (p.isEmpty()) {
            return s.isEmpty();
        }
        //p empty?
        boolean eq = !s.isEmpty() && equals(s.charAt(0), p.charAt(0));
        // ä¸‹ä¸€ä¸ªå­—ç¬¦"*"ï¼Œå°è¯•1ï¼šè·³è¿‡å½“å‰å­—ç¬¦+"*" å°è¯•2ï¼šç”¨å½“å‰å­—ç¬¦é‡å¤1åˆ°næ¬¡å–åŒ¹é…s[i]
        if (p.length() >= 2 && '*' == p.charAt(1)) {
            // a vs a*a è¿™ä¸ªcaseè¯´æ˜å³ä½¿eqä¹Ÿè¦å°è¯•æ”¾å¼ƒa*ï¼Œå³substring(2)
            return isMatch(s, p.substring(2)) || (eq && isMatch(s.substring(1), p));
            //é”™è¯¯
//            if(eq){
//                //s not empty
//                return isMatch(s.substring(1),p);
//            }else{
//                return isMatch(s,p.substring(2));
//            }
        } else {
            return eq && isMatch(s.substring(1), p.substring(1));
        }
    }

    private boolean equals(char s, char p) {
        return s == p || p == '.';
    }
}
